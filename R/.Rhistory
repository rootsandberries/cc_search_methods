table(ccmethods_data$experts)
#Searched gray literature
grey_yes <- sum(ccmethods_data$conf_proc == "yes" | ccmethods_data$theses == "yes" | ccmethods_data$govt == "yes" | ccmethods_data$ngo == "yes")
grey_percent <- grey_yes/nrow(ccmethods_data)*100
#number of reviews where search lag is less than or equal to 24 months
lag_24 <- sum(ccmethods_data$search_lag <= 24)
lag_24_percent <- lag_24/nrow(ccmethods_data)*100
#Partial Yes adherence: at least 2 databases, provided at least one search strategy, justified restrictions
ccmethods_data$amstar_partial_yes <- ifelse(ccmethods_data$two_db == "yes" & ccmethods_data$strategy_one == "yes" & ccmethods_data$limit_just_amstar == "yes", "yes", "no")
table(ccmethods_data$amstar_partial_yes)
table(ccmethods_data$amstar_full_yes)
library(gt)
is_table_amstar <- read.csv(here("../data_outputs/ccmethods_amstar_table.csv"))
is_table_amstar <- read.csv(here("./data_outputs/ccmethods_amstar_table.csv"))
is_table <- is_table_amstar %>% gt()
is_table_amstar <- read.csv(here("./data_outputs/ccmethods_amstar_table.csv"))
is_table <- is_table_amstar %>% gt()
gt_tbl_amstar <-
gt(is_table_amstar) |>
tab_header(
title = "",
subtitle = ""
) |>
tab_spanner(
label = "Meeting AMSTAR 2 criteria",
columns = c(number, percent)
) |>
tab_options(
heading.subtitle.font.size = 16
) %>%
cols_label(criteria="", number = "Number of reviews", percent ="Percent of reviews (%)")
gt_tbl_amstar
gt_tbl_amstar <-
gt(is_table_amstar) |>
tab_header(
title = "",
subtitle = ""
) |>
tab_spanner(
label = "Meeting AMSTAR 2 criteria",
columns = c(number, percent)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
columns = criteria,
rows = criteria == "Yes"
)
) |>
tab_options(
heading.subtitle.font.size = 16
) %>%
cols_label(criteria="", number = "Number of reviews", percent ="Percent of reviews (%)")
gt_tbl_amstar
gt_tbl_amstar <-
gt(is_table_amstar) |>
tab_header(
title = "",
subtitle = ""
) |>
tab_spanner(
label = "Meeting AMSTAR 2 criteria",
columns = c(number, percent)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
columns = criteria,
rows = criteria == "Yes" | "Partial Yes" | "No"
)
) |>
tab_options(
heading.subtitle.font.size = 16
) %>%
cols_label(criteria="", number = "Number of reviews", percent ="Percent of reviews (%)")
gt_tbl_amstar <-
gt(is_table_amstar) |>
tab_header(
title = "",
subtitle = ""
) |>
tab_spanner(
label = "Meeting AMSTAR 2 criteria",
columns = c(number, percent)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
columns = criteria,
rows = criteria == "Yes" | criteria =="Partial Yes" | criteria =="No"
)
) |>
tab_options(
heading.subtitle.font.size = 16
) %>%
cols_label(criteria="", number = "Number of reviews", percent ="Percent of reviews (%)")
gt_tbl_amstar <-
gt(is_table_amstar) |>
tab_header(
title = "",
subtitle = ""
) |>
tab_spanner(
label = "Meeting AMSTAR 2 criteria",
columns = c(number, percent)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
columns = criteria,
rows = criteria == "Yes",
rows = criteria =="Partial Yes"
)
) |>
tab_options(
heading.subtitle.font.size = 16
) %>%
cols_label(criteria="", number = "Number of reviews", percent ="Percent of reviews (%)")
gt_tbl_amstar <-
gt(is_table_amstar) |>
tab_header(
title = "",
subtitle = ""
) |>
tab_spanner(
label = "Meeting AMSTAR 2 criteria",
columns = c(number, percent)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
columns = criteria,
rows = criteria = "Yes"
gt_tbl_amstar <-
gt(is_table_amstar) |>
tab_header(
title = "",
subtitle = ""
) |>
tab_spanner(
label = "Meeting AMSTAR 2 criteria",
columns = c(number, percent)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
columns = criteria,
rows = criteria = "Yes"
gt_tbl_amstar <-
gt(is_table_amstar) |>
tab_header(
title = "",
subtitle = ""
) |>
tab_spanner(
label = "Meeting AMSTAR 2 criteria",
columns = c(number, percent)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
columns = criteria,
rows = criteria == "Yes"
)
) |>
tab_options(
heading.subtitle.font.size = 16
) %>%
cols_label(criteria="", number = "Number of reviews", percent ="Percent of reviews (%)")
gt_tbl_amstar
gt_tbl_amstar <-
gt(is_table_amstar) |>
tab_header(
title = "",
subtitle = ""
) |>
tab_spanner(
label = "Meeting AMSTAR 2 criteria",
columns = c(number, percent)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
columns = criteria,
rows = criteria == "Yes"
)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
columns = criteria,
rows = criteria == "No"
)
) |>
tab_options(
heading.subtitle.font.size = 16
) %>%
cols_label(criteria="", number = "Number of reviews", percent ="Percent of reviews (%)")
gt_tbl_amstar
gt_tbl_amstar <-
gt(is_table_amstar) |>
tab_header(
title = "",
subtitle = ""
) |>
tab_spanner(
label = "Meeting AMSTAR 2 criteria",
columns = c(number, percent)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
columns = criteria,
rows = criteria == "Yes"
)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
columns = criteria,
rows = criteria == "No"
)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
rows = criteria == "Partial Yes"
)
) |>
tab_options(
heading.subtitle.font.size = 16
) %>%
cols_label(criteria="", number = "Number of reviews", percent ="Percent of reviews (%)")
gt_tbl_amstar
gt_tbl_amstar <-
gt(is_table_amstar) |>
tab_header(
title = "",
subtitle = ""
) |>
tab_spanner(
label = "Meeting AMSTAR 2 criteria",
columns = c(number, percent)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
rows = criteria == "Yes"
)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
rows = criteria == "No"
)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
rows = criteria == "Partial Yes"
)
) |>
tab_options(
heading.subtitle.font.size = 16
) %>%
cols_label(criteria="", number = "Number of reviews", percent ="Percent of reviews (%)")
gt_tbl_amstar
gt_tbl_amstar <-
gt(is_table_amstar) |>
tab_header(
title = "",
subtitle = ""
) |>
tab_spanner(
label = "Meets AMSTAR 2 criteria",
columns = c(number, percent)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
rows = criteria == "Yes"
)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
rows = criteria == "No"
)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
rows = criteria == "Partial Yes"
)
) |>
tab_options(
heading.subtitle.font.size = 16
) %>%
cols_label(criteria="", number = "Number of reviews", percent ="Percent of reviews (%)")
gt_tbl_amstar
#Save to image file
gt_tbl_conduct |> gtsave(here("../plots/amstar_table.png"), expand = 10)
#Save to image file
gt_tbl_amstar |> gtsave(here("../plots/amstar_table.png"), expand = 10)
#Save to image file
gt_tbl_amstar |> gtsave(here("./plots/amstar_table.png"), expand = 10)
gt_tbl_amstar <-
gt(is_table_amstar) |>
tab_header(
title = "",
subtitle = ""
) |>
tab_spanner(
label = "Meets AMSTAR 2 criteria",
columns = c(number, percent)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
rows = criteria == "Yes"
)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
rows = criteria == "No"
)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
rows = criteria == "Partial Yes"
)
) |>
cols_align(
align = "center",
columns = number
) |>
tab_options(
heading.subtitle.font.size = 16
) %>%
cols_label(criteria="", number = "Number of reviews", percent ="Percent of reviews (%)")
gt_tbl_amstar
gt_tbl_amstar <-
gt(is_table_amstar) |>
tab_header(
title = "",
subtitle = ""
) |>
tab_spanner(
label = "Meets AMSTAR 2 criteria",
columns = c(number, percent)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
rows = criteria == "Yes"
)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
rows = criteria == "No"
)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
rows = criteria == "Partial Yes"
)
) |>
cols_align(
align = "center",
columns = number
) |>
cols_align(
align = "center",
columns = percent
) |>
tab_options(
heading.subtitle.font.size = 16
) %>%
cols_label(criteria="", number = "Number of reviews", percent ="Percent of reviews (%)")
gt_tbl_amstar
#Save to image file
gt_tbl_amstar |> gtsave(here("./plots/amstar_table.png"), expand = 10)
is_table_amstar <- read.csv(here("./data_outputs/ccmethods_amstar_table.csv"))
is_table <- is_table_amstar %>% gt()
gt_tbl_amstar <-
gt(is_table_amstar) |>
tab_header(
title = "",
subtitle = ""
) |>
tab_spanner(
label = "Meets AMSTAR 2 criteria",
columns = c(number, percent)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
rows = criteria == "Yes"
)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
rows = criteria == "No"
)
) |>
tab_style(
style = list(
cell_fill(color = "lightcyan"),
cell_text(weight = "bold")
),
locations = cells_body(
rows = criteria == "Partial Yes"
)
) |>
cols_align(
align = "center",
columns = number
) |>
cols_align(
align = "center",
columns = percent
) |>
tab_options(
heading.subtitle.font.size = 16
) %>%
cols_label(criteria="", number = "Number of reviews", percent ="Percent of reviews (%)")
gt_tbl_amstar
#Save to image file
gt_tbl_amstar |> gtsave(here("./plots/amstar_table.png"), expand = 10)
